# ğŸ•³ï¸ Pit

**A tiny, educational Git implementation in Go**

Pitã¯ã€Gitã®å†…éƒ¨æ§‹é€ ã‚’å­¦ã¶ãŸã‚ã«ä½œã‚‹ã€å°ã•ãã¦å¯æ„›ã„Gitå®Ÿè£…ã§ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„

- Gitã®å†…éƒ¨ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’æ·±ãç†è§£ã™ã‚‹
- Goè¨€èªã§ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤èª­ã¿ã‚„ã™ã„å®Ÿè£…ã‚’ä½œã‚‹
- æ•™è‚²ç›®çš„ã§ã€èª°ã§ã‚‚ç†è§£ã§ãã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
- å°ã•ãå§‹ã‚ã¦ã€å¾ã€…ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã

## ğŸ¯ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

```
"Small, Fast, and Educational"
```

æœ¬å®¶Gitã®è¤‡é›‘ã•ã‚’æ’é™¤ã—ã€ã‚³ã‚¢æ©Ÿèƒ½ã«é›†ä¸­

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
pit/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ pit/
â”‚       â””â”€â”€ main.go          # CLIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ objects/             # Git Objects (Blob, Tree, Commit)
â”‚   â”‚   â”œâ”€â”€ blob.go
â”‚   â”‚   â”œâ”€â”€ tree.go
â”‚   â”‚   â””â”€â”€ commit.go
â”‚   â”œâ”€â”€ refs/                # References (branches, tags)
â”‚   â”‚   â””â”€â”€ refs.go
â”‚   â”œâ”€â”€ index/               # Staging area
â”‚   â”‚   â””â”€â”€ index.go
â”‚   â””â”€â”€ storage/             # Object storage (.git/objects)
â”‚       â””â”€â”€ storage.go
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ hash/                # SHA-1 hashing
â”‚   â”‚   â””â”€â”€ sha.go
â”‚   â””â”€â”€ compress/            # zlib compression
â”‚       â””â”€â”€ zlib.go
â”œâ”€â”€ examples/                # ä½¿ç”¨ä¾‹
â”œâ”€â”€ docs/                    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ internals.md        # å†…éƒ¨è¨­è¨ˆã®è§£èª¬
â””â”€â”€ tests/                   # ãƒ†ã‚¹ãƒˆãƒªãƒã‚¸ãƒˆãƒª
```

## ğŸš€ é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: Core Objectsï¼ˆåŸºæœ¬å®Ÿè£…ï¼‰âœ¨
**ç›®æ¨™**: Gitã®3ã¤ã®åŸºæœ¬ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè£…

- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®š
- [x] Blob Objectï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®ä¿å­˜ï¼‰
- [x] Tree Objectï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼‰
- [x] Commit Objectï¼ˆã‚³ãƒŸãƒƒãƒˆæƒ…å ±ï¼‰
- [x] SHA-1ãƒãƒƒã‚·ãƒ¥è¨ˆç®—
- [x] zlibåœ§ç¸®ãƒ»å±•é–‹

**ã‚³ãƒãƒ³ãƒ‰**:
```bash
pit hash-object <file>    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Blob Objectã¨ã—ã¦ä¿å­˜
pit cat-file <hash>       # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å†…å®¹ã‚’è¡¨ç¤º
```

### Phase 2: Basic Commandsï¼ˆåŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ï¼‰ğŸ› ï¸
**ç›®æ¨™**: æœ€å°é™ã®Gitæ“ä½œã‚’å¯èƒ½ã«

- [ ] `pit init` - ãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–
- [ ] `pit add` - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã‚¨ãƒªã‚¢ã«è¿½åŠ 
- [ ] `pit commit` - ã‚³ãƒŸãƒƒãƒˆä½œæˆ
- [ ] `pit log` - ã‚³ãƒŸãƒƒãƒˆå±¥æ­´è¡¨ç¤º
- [ ] `pit status` - ç¾åœ¨ã®çŠ¶æ…‹è¡¨ç¤º

**ã“ã®æ™‚ç‚¹ã§**: åŸºæœ¬çš„ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå¯èƒ½ã«ï¼

### Phase 3: Branchesï¼ˆãƒ–ãƒ©ãƒ³ãƒæ©Ÿèƒ½ï¼‰ğŸŒ¿
**ç›®æ¨™**: ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆã¨åˆ‡ã‚Šæ›¿ãˆ

- [ ] `pit branch` - ãƒ–ãƒ©ãƒ³ãƒä¸€è¦§ãƒ»ä½œæˆ
- [ ] `pit checkout` - ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆ
- [ ] HEADå‚ç…§ã®ç®¡ç†
- [ ] refs/heads/ã®å®Ÿè£…

### Phase 4: Diff & Mergeï¼ˆå·®åˆ†ã¨ãƒãƒ¼ã‚¸ï¼‰ğŸ”€
**ç›®æ¨™**: å¤‰æ›´ã®å¯è¦–åŒ–ã¨çµ±åˆ

- [ ] `pit diff` - å·®åˆ†è¡¨ç¤ºï¼ˆç°¡æ˜“ç‰ˆï¼‰
- [ ] `pit merge` - Fast-forwardãƒãƒ¼ã‚¸ã®ã¿
- [ ] 3-way mergeã®åŸºç¤å®Ÿè£…ï¼ˆãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼‰

### Phase 5: Remoteï¼ˆãƒªãƒ¢ãƒ¼ãƒˆæ©Ÿèƒ½ï¼‰ğŸŒ
**ç›®æ¨™**: ä»–ã®Pitãƒªãƒã‚¸ãƒˆãƒªã¨ã®åŒæœŸ

- [ ] `pit clone` - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¯ãƒ­ãƒ¼ãƒ³
- [ ] `pit push` - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒƒã‚·ãƒ¥
- [ ] `pit pull` - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ«
- [ ] Packfileå½¢å¼ã®å®Ÿè£…ï¼ˆOptionalï¼‰

### Phase 6: Performanceï¼ˆæœ€é©åŒ–ï¼‰âš¡
**ç›®æ¨™**: å®Ÿç”¨çš„ãªé€Ÿåº¦ã‚’å®Ÿç¾

- [ ] ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ¥
- [ ] ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®æœ€é©åŒ–
- [ ] ä¸¦è¡Œå‡¦ç†ã®å°å…¥
- [ ] ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ

## ğŸ“ å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ

å„ãƒ•ã‚§ãƒ¼ã‚ºã§å­¦ã¹ã‚‹ã“ã¨ï¼š

1. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ **
   - Content-Addressable Storage
   - Merkle Treeæ§‹é€ 

2. **åœ§ç¸®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **
   - zlibåœ§ç¸®ã®ä»•çµ„ã¿
   - ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„ãªä¿å­˜

3. **ãƒãƒƒã‚·ãƒ¥é–¢æ•°**
   - SHA-1ã®å½¹å‰²
   - æ•´åˆæ€§ã®ä¿è¨¼

4. **ã‚°ãƒ©ãƒ•ç†è«–**
   - DAGï¼ˆæœ‰å‘éå·¡å›ã‚°ãƒ©ãƒ•ï¼‰
   - ã‚³ãƒŸãƒƒãƒˆã‚°ãƒ©ãƒ•ã®èµ°æŸ»

## ğŸš¦ Getting Started

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/nyasuto/pit.git

# ãƒ“ãƒ«ãƒ‰
cd pit
go build -o pit cmd/pit/main.go

# æœ€åˆã®ã‚³ãƒãƒ³ãƒ‰ã‚’è©¦ã™
./pit init my-repo
cd my-repo
echo "Hello, Pit!" > hello.txt
../pit add hello.txt
../pit commit -m "First commit with Pit!"
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
go test ./...

# çµ±åˆãƒ†ã‚¹ãƒˆ
./scripts/integration_test.sh

# ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
go test -bench=. ./...
```

## ğŸ“Š é€²æ—çŠ¶æ³

| Phase | çŠ¶æ…‹ | é€²æ— |
|-------|------|------|
| Phase 1: Core Objects | âœ… å®Œäº† | 100% |
| Phase 2: Basic Commands | â³ å¾…æ©Ÿä¸­ | 0% |
| Phase 3: Branches | â³ å¾…æ©Ÿä¸­ | 0% |
| Phase 4: Diff & Merge | â³ å¾…æ©Ÿä¸­ | 0% |
| Phase 5: Remote | â³ å¾…æ©Ÿä¸­ | 0% |
| Phase 6: Performance | â³ å¾…æ©Ÿä¸­ | 0% |

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

å€‹äººå­¦ç¿’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ãŒã€ä»¥ä¸‹ã¯å¤§æ­“è¿ã§ã™ï¼š

- ãƒã‚°å ±å‘Š
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ã‚¢ã‚¤ãƒ‡ã‚¢ã®ææ¡ˆ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ”¹å–„

## ğŸ“š å‚è€ƒè³‡æ–™

- [Pro Git - Git Internals](https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain)
- [Write yourself a Git!](https://wyag.thb.lt/)
- [Building Git](https://shop.jcoglan.com/building-git/)

## ğŸ·ï¸ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°

- v0.1.0 - Phase 1 å®Œäº†ï¼ˆCore Objectsï¼‰
- v0.2.0 - Phase 2 å®Œäº†ï¼ˆBasic Commandsï¼‰
- v0.3.0 - Phase 3 å®Œäº†ï¼ˆBranchesï¼‰
- v1.0.0 - Phase 4 å®Œäº†ï¼ˆåŸºæœ¬æ©Ÿèƒ½å®Œæˆï¼‰

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - å­¦ç¿’ç›®çš„ã§è‡ªç”±ã«ä½¿ç”¨ãƒ»æ”¹å¤‰ã—ã¦ãã ã•ã„

## ğŸ•³ï¸ ãªãœã€ŒPitã€ï¼Ÿ

Gitï¼ˆã‚®ãƒƒãƒˆï¼‰ã®å†…éƒ¨ã‚’æ˜ã‚Šä¸‹ã’ã‚‹ã€Œç©´ï¼ˆPitï¼‰ã€ã®ã‚ˆã†ã«ã€æ·±ãå­¦ã¶ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼š
- **æ·±ã„**: Gitã®å†…éƒ¨æ§‹é€ ã‚’æ·±ãç†è§£
- **æ˜ã‚‹**: è¡¨é¢çš„ã§ãªãã€æœ¬è³ªã‚’æ˜ã‚Šä¸‹ã’ã‚‹
- **å­¦ã¶**: çŸ¥è­˜ã®ç©´ã‚’åŸ‹ã‚ã‚‹æ•™è‚²ãƒ„ãƒ¼ãƒ«

---

**ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… Phase 1 å®Œäº†ï¼Phase 2 é–‹å§‹æº–å‚™ä¸­...

```go
// å®Œæˆã—ãŸã‚³ã‚¢æ©Ÿèƒ½
âœ… Blob:   NewBlob(data []byte) object
âœ… Tree:   NewTree(), AddEntry(), serialize()  
âœ… Commit: NewCommit(tree, message), SetAuthor()
âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸã€Gitä»•æ§˜æº–æ‹ ã€äº’æ›æ€§ç¢ºä¿
```

*Last Updated: 2025-08-15*